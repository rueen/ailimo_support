# 管理端接口对比总结

## 📊 对比说明
本文档对比了接口文档（`docs/接口设计-管理端-*.md`）与实际代码实现（`src/api/*.js`），总结未实现的接口、接口不一致以及代码中有但文档中没有的接口。

---

## ❌ 未实现的接口

### 1. **试剂耗材管理模块** (完全未实现)
- 整个模块的API文件不存在（`src/api/reagent.js`）
- 包括：
  - 试剂耗材订单管理（列表、详情、创建、更新、审核、完成、取消）
  - 试剂耗材品牌管理（列表、创建、更新、删除、详情、选项）
  - 试剂耗材规格管理（列表、创建、更新、删除、详情、选项）

### 2. **设备租赁模块**
- ❌ 设备时间段管理的完整CRUD接口（代码中只有列表和选项接口）
  - 缺失：时间段详情 `GET /api/support/equipment-time-slots/:id`
  - 缺失：创建时间段 `POST /api/support/equipment-time-slots`
  - 缺失：更新时间段 `PUT /api/support/equipment-time-slots/:id`
  - 缺失：删除时间段 `DELETE /api/support/equipment-time-slots/:id`
- ❌ 设备租赁统计接口 `GET /api/support/equipment-reservations/statistics`（文档标注为非核心功能，暂未实现）

### 3. **动物订购模块**
- ❌ 品牌详情接口 `GET /api/support/animal-brands/:id`
- ❌ 品系详情接口 `GET /api/support/animal-varieties/:id`
- ❌ 规格详情接口 `GET /api/support/animal-specifications/:id`
- ❌ 要求详情接口 `GET /api/support/animal-requirements/:id`
- ❌ 动物订购统计接口 `GET /api/support/animal-orders/statistics`
- ⚠️ 品系选项接口参数不一致（文档要求必填brandId参数，代码中可能没有）

### 4. **实验代操作模块**
- ❌ 实验时间段详情接口 `GET /api/support/experiment-time-slots/:id`（代码中有，但不确定是否完整）
- ❌ 操作内容详情接口 `GET /api/support/operation-contents/:id`（代码中有，但不确定是否完整）

### 5. **通用配置管理模块**
- ❌ 负责人详情接口 `GET /api/support/handlers/:id`（代码中没有，文档中有）
- ❌ 环境类型详情接口 `GET /api/support/environment-types/:id`（代码中没有，文档中可能有）
- ❌ 动物类型详情接口 `GET /api/support/animal-types/:id`（代码中没有，文档中可能有）

### 6. **内容管理模块 - 系统配置**
- ❌ 系统配置管理接口（文档中提到但代码中未实现）：
  - `GET /api/support/system-configs/:key` - 获取系统配置
  - `PUT /api/support/system-configs/:key` - 更新系统配置
  - `GET /api/support/system-configs` - 获取所有系统配置

---

## ⚠️ 接口不一致的地方

### 1. **设备租赁审核接口**
- **文档**：`PUT /api/support/equipment-reservations/:id/audit`（统一审核接口，通过status参数区分通过/拒绝）
- **代码**：分为两个接口 `approve` 和 `reject`
  - `PUT /api/support/equipment-reservations/:id/approve`
  - `PUT /api/support/equipment-reservations/:id/reject`
- **建议**：**文档更合理**（统一接口，通过参数区分，更符合RESTful规范）

### 2. **笼位租赁审核接口**
- **文档**：`PUT /api/support/cage-reservations/:id/audit`（统一审核接口）
- **代码**：分为两个接口 `approve` 和 `reject`
- **建议**：**文档更合理**

### 3. **实验代操作审核接口**
- **文档**：`PUT /api/support/experiment-operations/:id/audit`（统一审核接口）
- **代码**：分为两个接口 `approve` 和 `reject`
- **建议**：**文档更合理**

### 4. **动物订购审核接口**
- **文档**：`PUT /api/support/animal-orders/:id/audit`（统一审核接口）
- **代码**：分为两个接口 `approve` 和 `reject`
- **建议**：**文档更合理**

### 5. **设备租赁提前预约天数配置**
- **文档**：使用统一系统配置接口
  - `GET /api/support/advance-days` - 获取所有模块的提前预约天数
  - `PUT /api/support/system-configs/equipment_advance_days` - 更新设备租赁提前预约天数
- **代码**：可能有独立的接口（需要确认，但设备租赁模块代码中没有看到）
- **建议**：**文档更合理**（统一配置管理更合理）

### 6. **笼位租赁提前预约天数配置**
- **文档**：使用统一系统配置接口
- **代码**：独立的接口 `GET /api/support/cage-advance-days` 和 `PUT /api/support/cage-advance-days`
- **建议**：**文档更合理**（应该统一使用系统配置接口）

### 7. **实验代操作提前预约天数配置**
- **文档**：使用统一系统配置接口
- **代码**：独立的接口 `GET /api/support/experiment-advance-days` 和 `PUT /api/support/experiment-advance-days`
- **建议**：**文档更合理**

### 8. **用户审核接口**
- **文档**：`PUT /api/support/users/:id/audit`（统一审核接口，通过status参数区分）
- **代码**：分为两个接口 `approve` 和 `reject`
  - `PUT /api/support/users/:id/approve`
  - `PUT /api/support/users/:id/reject`
- **建议**：**文档更合理**

### 9. **动物订购品系选项接口**
- **文档**：`GET /api/support/animal-varieties/options?brandId=1`（必填brandId参数）
- **代码**：`GET /api/support/animal-varieties/options`（可能没有brandId参数）
- **建议**：**文档更合理**（根据品牌筛选品系更符合业务逻辑）

---

## 📝 代码中有但文档中没有的接口

### 1. **综合统计接口**
- 代码：`GET /api/support/statistics/overview`（在 `src/api/content.js` 中）
- 文档：在 `接口设计-管理端-内容管理.md` 中有提到，应该是符合文档的

### 2. **文件上传接口**
- 代码：`POST /api/support/upload/image`（在 `src/api/content.js` 中）
- 文档：在 `接口设计-管理端-内容管理.md` 中有提到，应该是符合文档的

---

## 📋 总结

### 未实现的主要模块
1. **试剂耗材管理** - 完全未实现（最高优先级）
2. **设备时间段管理** - 缺少完整的CRUD接口
3. **动物订购详情接口** - 缺少品牌/品系/规格/要求的详情接口
4. **系统配置管理** - 完全未实现

### 接口设计不一致（建议以文档为准）
1. **审核接口** - 应该统一使用 `/audit` 接口，通过参数区分通过/拒绝
2. **提前预约天数配置** - 应该统一使用系统配置接口，而不是各模块独立接口

### 建议
1. **优先实现试剂耗材管理模块**（完全缺失）
2. **统一审核接口设计**（建议修改代码以符合文档）
3. **统一配置管理接口**（建议修改代码以符合文档）
4. **补充缺失的详情接口**（品牌、品系、规格、要求等）
5. **补充设备时间段管理的完整CRUD接口**

---

**生成时间**：2026-01-09
**对比范围**：管理端所有接口文档 vs 前端API代码实现
