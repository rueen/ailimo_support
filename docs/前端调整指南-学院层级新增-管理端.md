# å‰ç«¯è°ƒæ•´æŒ‡å— - å­¦é™¢å±‚çº§æ–°å¢ï¼ˆç®¡ç†ç«¯ï¼‰

## ğŸ“‹ è°ƒæ•´æ¦‚è¿°

æœ¬æ¬¡è°ƒæ•´åœ¨ç»„ç»‡æ¶æ„ä¸­æ–°å¢äº†"å­¦é™¢"å±‚çº§ï¼Œå±‚çº§å…³ç³»è°ƒæ•´ä¸ºï¼š
- **åŸæ¥**ï¼šä¼šå‘˜ > æ‰€å±è¯¾é¢˜ç»„ > æ‰€å±ç»„ç»‡æœºæ„
- **ç°åœ¨**ï¼šä¼šå‘˜ > æ‰€å±è¯¾é¢˜ç»„ > æ‰€å±å­¦é™¢ > æ‰€å±ç»„ç»‡æœºæ„

## ğŸ”„ å½±å“èŒƒå›´

### æ¶‰åŠæ¨¡å—
1. âœ… ç”¨æˆ·ç®¡ç†ï¼ˆä¼šå‘˜ç®¡ç†ï¼‰
2. âœ… å­¦é™¢ç®¡ç†ï¼ˆæ–°å¢æ¨¡å—ï¼‰
3. âœ… è¯¾é¢˜ç»„ç®¡ç†

---

## 1ï¸âƒ£ ç”¨æˆ·ç®¡ç†æ¨¡å—è°ƒæ•´

### 1.1 ç”¨æˆ·åˆ—è¡¨æ¥å£è°ƒæ•´

**æ¥å£åœ°å€**: `GET /api/support/users`

#### å˜æ›´å†…å®¹

**æ–°å¢è¯·æ±‚å‚æ•°**:
```json
{
  "department_id": 1  // æ–°å¢ï¼šå¯é€‰ï¼Œå­¦é™¢IDç­›é€‰
}
```

**å“åº”æ•°æ®å˜åŒ–**:
```json
{
  "data": {
    "list": [
      {
        // ... å…¶ä»–å­—æ®µ
        "organization": { "id": 1, "name": "æµ™æ±Ÿå¤§å­¦" },
        "department": { "id": 1, "name": "ç”Ÿå‘½ç§‘å­¦å­¦é™¢" },  // æ–°å¢
        "research_group": { "id": 1, "name": "ç”Ÿç‰©åŒ»å­¦ç ”ç©¶ç»„" },
        "user_input_organization_name": null,  // æ–°å¢ï¼šç”¨æˆ·è¾“å…¥çš„ç»„ç»‡æœºæ„åç§°
        "user_input_department_name": null,    // æ–°å¢ï¼šç”¨æˆ·è¾“å…¥çš„å­¦é™¢åç§°
        "user_input_research_group_name": null // æ–°å¢ï¼šç”¨æˆ·è¾“å…¥çš„è¯¾é¢˜ç»„åç§°
      }
    ]
  }
}
```

#### å‰ç«¯è°ƒæ•´å»ºè®®
- åœ¨ç­›é€‰æ¡ä»¶ä¸­æ–°å¢"å­¦é™¢"ä¸‹æ‹‰é€‰æ‹©å™¨
- é€‰æ‹©ç»„ç»‡æœºæ„åï¼ŒåŠ è½½è¯¥ç»„ç»‡æœºæ„ä¸‹çš„å­¦é™¢åˆ—è¡¨
- åˆ—è¡¨å±•ç¤ºä¸­æ·»åŠ "å­¦é™¢"åˆ—
- æ˜¾ç¤ºç»„ç»‡æœºæ„/å­¦é™¢/è¯¾é¢˜ç»„æ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå…³è”çš„å¯¹è±¡åç§°ï¼Œå¦‚æœä¸ºnullåˆ™æ˜¾ç¤ºç”¨æˆ·è¾“å…¥çš„åç§°

#### å­—æ®µè¯´æ˜

**ç”¨æˆ·è¾“å…¥å­—æ®µçš„æ˜¾ç¤ºé€»è¾‘**ï¼š
- å¦‚æœç”¨æˆ·æ³¨å†Œæ—¶é€‰æ‹©äº†å…·ä½“çš„ç»„ç»‡æœºæ„/å­¦é™¢/è¯¾é¢˜ç»„ï¼Œåˆ™ `organization`/`department`/`research_group` å¯¹è±¡æœ‰å€¼ï¼Œ`user_input_xxx_name` ä¸º `null`
- å¦‚æœç”¨æˆ·æ³¨å†Œæ—¶é€‰æ‹©äº†"å…¶ä»–"å¹¶æ‰‹åŠ¨è¾“å…¥ï¼Œåˆ™ `organization_id`/`department_id`/`research_group_id` ä¸º `null`ï¼Œå¯¹åº”çš„ `user_input_xxx_name` æœ‰å€¼
- å»ºè®®æ˜¾ç¤ºé€»è¾‘ï¼š`organization?.name || user_input_organization_name`

---

### 1.2 ç”¨æˆ·è¯¦æƒ…æ¥å£è°ƒæ•´

**æ¥å£åœ°å€**: `GET /api/support/users/:id`

#### å˜æ›´å†…å®¹

**å“åº”æ•°æ®å˜åŒ–**:
```json
{
  "data": {
    // ... å…¶ä»–å­—æ®µ
    "organization": { "id": 1, "name": "æµ™æ±Ÿå¤§å­¦" },
    "department": { "id": 1, "name": "ç”Ÿå‘½ç§‘å­¦å­¦é™¢" },  // æ–°å¢
    "research_group": { "id": 1, "name": "ç”Ÿç‰©åŒ»å­¦ç ”ç©¶ç»„" },
    "user_input_organization_name": null,  // æ–°å¢ï¼šç”¨æˆ·è¾“å…¥çš„ç»„ç»‡æœºæ„åç§°
    "user_input_department_name": null,    // æ–°å¢ï¼šç”¨æˆ·è¾“å…¥çš„å­¦é™¢åç§°
    "user_input_research_group_name": null // æ–°å¢ï¼šç”¨æˆ·è¾“å…¥çš„è¯¾é¢˜ç»„åç§°
  }
}
```

#### å‰ç«¯è°ƒæ•´å»ºè®®
- åœ¨è¯¦æƒ…é¡µé¢å±•ç¤ºå­¦é™¢ä¿¡æ¯

---

### 1.3 æ–°å¢ç”¨æˆ·æ¥å£è°ƒæ•´

**æ¥å£åœ°å€**: `POST /api/support/users`

#### å˜æ›´å†…å®¹

**æ–°å¢è¯·æ±‚å‚æ•°**:
```json
{
  "organization_id": 1,     // å¿…å¡«
  "department_id": 1,       // æ–°å¢ï¼šå¿…å¡«ï¼Œå­¦é™¢ID
  "research_group_id": 1    // å¿…å¡«
}
```

#### å‰ç«¯è°ƒæ•´å»ºè®®ï¼ˆé‡è¦ï¼‰
æ–°å¢/ç¼–è¾‘ä¼šå‘˜æ—¶ï¼Œéœ€è¦å®ç°ä¸‰çº§çº§è”é€‰æ‹©ï¼š

```
æ­¥éª¤1ï¼šé€‰æ‹©ç»„ç»‡æœºæ„
   â†“
æ­¥éª¤2ï¼šæ ¹æ®ç»„ç»‡æœºæ„IDï¼Œè°ƒç”¨æ¥å£è·å–å­¦é™¢åˆ—è¡¨
   â†“
æ­¥éª¤3ï¼šé€‰æ‹©å­¦é™¢
   â†“
æ­¥éª¤4ï¼šæ ¹æ®å­¦é™¢IDï¼Œè°ƒç”¨æ¥å£è·å–è¯¾é¢˜ç»„åˆ—è¡¨
   â†“
æ­¥éª¤5ï¼šé€‰æ‹©è¯¾é¢˜ç»„
```

**å®ç°è¦ç‚¹**:
- ç»„ç»‡æœºæ„æ”¹å˜æ—¶ï¼šæ¸…ç©ºå­¦é™¢å’Œè¯¾é¢˜ç»„é€‰æ‹©ï¼Œæ¸…ç©ºå¯¹åº”çš„é€‰é¡¹åˆ—è¡¨ï¼ŒåŠ è½½æ–°çš„å­¦é™¢åˆ—è¡¨
- å­¦é™¢æ”¹å˜æ—¶ï¼šæ¸…ç©ºè¯¾é¢˜ç»„é€‰æ‹©ï¼Œæ¸…ç©ºè¯¾é¢˜ç»„é€‰é¡¹åˆ—è¡¨ï¼ŒåŠ è½½æ–°çš„è¯¾é¢˜ç»„åˆ—è¡¨
- è¡¨å•å­—æ®µéœ€è¦ï¼š`organization_id`ã€`department_id`ã€`research_group_id`
- éœ€è¦ç»´æŠ¤ä¸‰ä¸ªé€‰é¡¹åˆ—è¡¨ï¼š`organizationList`ã€`departmentList`ã€`researchGroupList`

---

### 1.4 ç¼–è¾‘ç”¨æˆ·æ¥å£è°ƒæ•´

**æ¥å£åœ°å€**: `PUT /api/support/users/:id`

#### å˜æ›´å†…å®¹

**æ–°å¢è¯·æ±‚å‚æ•°**:
```json
{
  "department_id": 2  // æ–°å¢ï¼šå¯é€‰ï¼Œå­¦é™¢ID
}
```

#### å‰ç«¯è°ƒæ•´å»ºè®®
- ç¼–è¾‘æ—¶åŒæ ·éœ€è¦å®ç°ä¸‰çº§çº§è”é€‰æ‹©
- å›æ˜¾æ—¶éœ€è¦æ ¹æ®å½“å‰çš„ `organization_id` åŠ è½½å­¦é™¢åˆ—è¡¨ï¼Œæ ¹æ® `department_id` åŠ è½½è¯¾é¢˜ç»„åˆ—è¡¨

---

## 2ï¸âƒ£ å­¦é™¢ç®¡ç†æ¨¡å—ï¼ˆæ–°å¢ï¼‰

### 2.1 å­¦é™¢åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/support/departments`

**æƒé™è¦æ±‚**: `department:list`

**è¯·æ±‚å‚æ•°**:
```json
{
  "page": 1,
  "pageSize": 10,
  "name": "ç”Ÿå‘½",              // å¯é€‰ï¼Œå­¦é™¢åç§°æ¨¡ç³ŠæŸ¥è¯¢
  "organization_id": 1        // å¯é€‰ï¼Œæ‰€å±ç»„ç»‡æœºæ„IDç­›é€‰
}
```

**å“åº”æ•°æ®**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "list": [
      {
        "id": 1,
        "name": "ç”Ÿå‘½ç§‘å­¦å­¦é™¢",
        "organization": {
          "id": 1,
          "name": "æµ™æ±Ÿå¤§å­¦"
        },
        "created_at": "2026-01-01 00:00:00"
      }
    ],
    "total": 20,
    "page": 1,
    "page_size": 10,
    "total_pages": 2
  }
}
```

#### å‰ç«¯å®ç°å»ºè®®
- é¡µé¢è·¯å¾„å»ºè®®ï¼š`/admin/departments`
- åˆ—è¡¨éœ€è¦å±•ç¤ºï¼šå­¦é™¢åç§°ã€æ‰€å±ç»„ç»‡æœºæ„ã€åˆ›å»ºæ—¶é—´ã€æ“ä½œæŒ‰é’®
- æ”¯æŒæŒ‰ç»„ç»‡æœºæ„ç­›é€‰
- æ”¯æŒå­¦é™¢åç§°æ¨¡ç³Šæœç´¢

---

### 2.2 å­¦é™¢è¯¦æƒ…

**æ¥å£åœ°å€**: `GET /api/support/departments/:id`

**æƒé™è¦æ±‚**: `department:detail`

**å“åº”æ•°æ®**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "name": "ç”Ÿå‘½ç§‘å­¦å­¦é™¢",
    "organization": {
      "id": 1,
      "name": "æµ™æ±Ÿå¤§å­¦"
    },
    "created_at": "2026-01-01 00:00:00",
    "updated_at": "2026-01-01 00:00:00"
  }
}
```

---

### 2.3 åˆ›å»ºå­¦é™¢

**æ¥å£åœ°å€**: `POST /api/support/departments`

**æƒé™è¦æ±‚**: `department:create`

**è¯·æ±‚å‚æ•°**:
```json
{
  "name": "åŒ»å­¦é™¢",           // å¿…å¡«ï¼Œå­¦é™¢åç§°
  "organization_id": 1       // å¿…å¡«ï¼Œæ‰€å±ç»„ç»‡æœºæ„ID
}
```

**å“åº”æ•°æ®**:
```json
{
  "code": 200,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 10,
    "name": "åŒ»å­¦é™¢",
    "organization_id": 1,
    "created_at": "2026-01-07 16:00:00"
  }
}
```

#### è¡¨å•éªŒè¯è§„åˆ™
- `name`: å¿…å¡«ï¼Œæœ€å¤§100å­—ç¬¦
- `organization_id`: å¿…å¡«ï¼Œå¿…é¡»æ˜¯æœ‰æ•ˆçš„ç»„ç»‡æœºæ„ID
- åŒä¸€ç»„ç»‡æœºæ„ä¸‹å­¦é™¢åç§°ä¸èƒ½é‡å¤

---

### 2.4 æ›´æ–°å­¦é™¢

**æ¥å£åœ°å€**: `PUT /api/support/departments/:id`

**æƒé™è¦æ±‚**: `department:update`

**è¯·æ±‚å‚æ•°**:
```json
{
  "name": "ä¸´åºŠåŒ»å­¦é™¢",       // å¿…å¡«ï¼Œå­¦é™¢åç§°
  "organization_id": 2       // å¿…å¡«ï¼Œæ‰€å±ç»„ç»‡æœºæ„ID
}
```

#### è¡¨å•éªŒè¯è§„åˆ™
åŒåˆ›å»ºå­¦é™¢

---

### 2.5 åˆ é™¤å­¦é™¢

**æ¥å£åœ°å€**: `DELETE /api/support/departments/:id`

**æƒé™è¦æ±‚**: `department:delete`

**å“åº”æ•°æ®**:
```json
{
  "code": 200,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null
}
```

#### åˆ é™¤é™åˆ¶
- å¦‚æœå­¦é™¢ä¸‹æœ‰å…³è”çš„ç”¨æˆ·ï¼Œä¸å…è®¸åˆ é™¤
- å¦‚æœå­¦é™¢ä¸‹æœ‰å…³è”çš„è¯¾é¢˜ç»„ï¼Œä¸å…è®¸åˆ é™¤
- åˆ é™¤å‰éœ€è¦äºŒæ¬¡ç¡®è®¤

---

### 2.6 è·å–å­¦é™¢é€‰é¡¹åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/support/departments/options`

**æ— æƒé™è¦æ±‚**ï¼ˆå·²ç™»å½•å³å¯ï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
  "organization_id": 1  // å¿…å¡«ï¼Œç»„ç»‡æœºæ„ID
}
```

**å“åº”æ•°æ®**:
```json
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "name": "ç”Ÿå‘½ç§‘å­¦å­¦é™¢",
      "organization_id": 1
    },
    {
      "id": 2,
      "name": "åŒ»å­¦é™¢",
      "organization_id": 1
    }
  ]
}
```

#### ä½¿ç”¨åœºæ™¯
ç”¨äºä¸‹æ‹‰é€‰æ‹©å™¨ï¼Œå®ç°çº§è”é€‰æ‹©ï¼šç»„ç»‡æœºæ„ â†’ å­¦é™¢ â†’ è¯¾é¢˜ç»„

---

## 3ï¸âƒ£ è¯¾é¢˜ç»„ç®¡ç†æ¨¡å—è°ƒæ•´

### 3.1 è¯¾é¢˜ç»„åˆ—è¡¨æ¥å£è°ƒæ•´

**æ¥å£åœ°å€**: `GET /api/support/research-groups`

#### å˜æ›´å†…å®¹

**è¯·æ±‚å‚æ•°å˜åŒ–**:
```json
{
  // åŸæ¥
  "organization_id": 1  // å·²ç§»é™¤

  // ç°åœ¨
  "department_id": 1    // æ–°å¢ï¼šå¯é€‰ï¼Œæ‰€å±å­¦é™¢IDç­›é€‰
}
```

**å“åº”æ•°æ®å˜åŒ–**:
```json
{
  "data": {
    "list": [
      {
        "id": 1,
        "name": "ç”Ÿç‰©åŒ»å­¦ç ”ç©¶ç»„",
        // åŸæ¥
        "organization": { "id": 1, "name": "æµ™æ±Ÿå¤§å­¦" }  // å·²ç§»é™¤
        
        // ç°åœ¨ï¼ˆæ–°å¢ä¸¤ä¸ªå­—æ®µï¼‰
        "department": { "id": 1, "name": "ç”Ÿå‘½ç§‘å­¦å­¦é™¢" },
        "organization": { "id": 1, "name": "æµ™æ±Ÿå¤§å­¦" }
      }
    ]
  }
}
```

#### å‰ç«¯è°ƒæ•´å»ºè®®
- ç­›é€‰æ¡ä»¶ï¼šå°†"ç»„ç»‡æœºæ„"æ”¹ä¸º"å­¦é™¢"
- åˆ—è¡¨å±•ç¤ºï¼šæ·»åŠ "å­¦é™¢"åˆ—ï¼Œä¿ç•™"ç»„ç»‡æœºæ„"åˆ—

---

### 3.2 è¯¾é¢˜ç»„è¯¦æƒ…æ¥å£ï¼ˆæ–°å¢ï¼‰

**æ¥å£åœ°å€**: `GET /api/support/research-groups/:id`

**æƒé™è¦æ±‚**: `research_group:detail`

**å“åº”æ•°æ®**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "name": "ç”Ÿç‰©åŒ»å­¦ç ”ç©¶ç»„",
    "department": {
      "id": 1,
      "name": "ç”Ÿå‘½ç§‘å­¦å­¦é™¢",
      "organization_id": 1
    },
    "organization": {
      "id": 1,
      "name": "æµ™æ±Ÿå¤§å­¦"
    },
    "created_at": "2026-01-01 00:00:00",
    "updated_at": "2026-01-01 00:00:00"
  }
}
```

---

### 3.3 åˆ›å»ºè¯¾é¢˜ç»„æ¥å£è°ƒæ•´

**æ¥å£åœ°å€**: `POST /api/support/research-groups`

#### å˜æ›´å†…å®¹

**è¯·æ±‚å‚æ•°å˜åŒ–**:
```json
{
  "name": "ç¥ç»ç§‘å­¦ç ”ç©¶ç»„",
  // åŸæ¥
  "organization_id": 1      // å·²ç§»é™¤ï¼Œæ”¹ä¸º department_id
  
  // ç°åœ¨
  "department_id": 1        // æ–°å¢ï¼šå¿…å¡«ï¼Œæ‰€å±å­¦é™¢ID
}
```

#### å‰ç«¯è°ƒæ•´å»ºè®®
- è¡¨å•å­—æ®µï¼šå°†"ç»„ç»‡æœºæ„"æ”¹ä¸º"å­¦é™¢"
- éœ€è¦å…ˆé€‰æ‹©ç»„ç»‡æœºæ„ï¼Œå†é€‰æ‹©å­¦é™¢ï¼ˆäºŒçº§çº§è”ï¼‰

---

### 3.4 æ›´æ–°è¯¾é¢˜ç»„æ¥å£è°ƒæ•´

**æ¥å£åœ°å€**: `PUT /api/support/research-groups/:id`

#### å˜æ›´å†…å®¹

**è¯·æ±‚å‚æ•°å˜åŒ–**:
```json
{
  "name": "è®¤çŸ¥ç¥ç»ç§‘å­¦ç ”ç©¶ç»„",
  // åŸæ¥
  "organization_id": 2      // å·²ç§»é™¤ï¼Œæ”¹ä¸º department_id
  
  // ç°åœ¨
  "department_id": 2        // æ–°å¢ï¼šå¿…å¡«ï¼Œæ‰€å±å­¦é™¢ID
}
```

#### å‰ç«¯è°ƒæ•´å»ºè®®
åŒåˆ›å»ºè¯¾é¢˜ç»„

---

### 3.5 è¯¾é¢˜ç»„é€‰é¡¹åˆ—è¡¨æ¥å£è°ƒæ•´

**æ¥å£åœ°å€**: `GET /api/support/research-groups/options`

#### å˜æ›´å†…å®¹

**è¯·æ±‚å‚æ•°å˜åŒ–**:
```json
{
  // åŸæ¥
  "organization_id": 1  // å·²ç§»é™¤

  // ç°åœ¨
  "department_id": 1    // æ–°å¢ï¼šå¿…å¡«ï¼Œå­¦é™¢ID
}
```

**å“åº”æ•°æ®å˜åŒ–**:
```json
{
  "data": [
    {
      "id": 1,
      "name": "ç”Ÿç‰©åŒ»å­¦ç ”ç©¶ç»„",
      // åŸæ¥
      "organization_id": 1  // å·²ç§»é™¤
      
      // ç°åœ¨
      "department_id": 1    // æ–°å¢
    }
  ]
}
```

#### ä½¿ç”¨åœºæ™¯
ç”¨äºçº§è”é€‰æ‹©çš„ç¬¬ä¸‰çº§ï¼šç»„ç»‡æœºæ„ â†’ å­¦é™¢ â†’ è¯¾é¢˜ç»„

---

## 4ï¸âƒ£ çº§è”é€‰æ‹©å®ç°è¦ç‚¹

### åœºæ™¯ï¼šæ–°å¢/ç¼–è¾‘ä¼šå‘˜

#### è¡¨å•å­—æ®µ
- ç»„ç»‡æœºæ„é€‰æ‹©å™¨ï¼ˆå¿…å¡«ï¼‰
- å­¦é™¢é€‰æ‹©å™¨ï¼ˆå¿…å¡«ï¼Œæœªé€‰æ‹©ç»„ç»‡æœºæ„æ—¶ç¦ç”¨ï¼‰
- è¯¾é¢˜ç»„é€‰æ‹©å™¨ï¼ˆå¿…å¡«ï¼Œæœªé€‰æ‹©å­¦é™¢æ—¶ç¦ç”¨ï¼‰

#### çº§è”é€»è¾‘
1. **åˆå§‹åŠ è½½**ï¼šè°ƒç”¨æ¥å£åŠ è½½ç»„ç»‡æœºæ„é€‰é¡¹åˆ—è¡¨
2. **é€‰æ‹©ç»„ç»‡æœºæ„**ï¼š
   - æ¸…ç©ºå­¦é™¢å’Œè¯¾é¢˜ç»„çš„é€‰æ‹©å€¼
   - æ¸…ç©ºå­¦é™¢å’Œè¯¾é¢˜ç»„çš„é€‰é¡¹åˆ—è¡¨
   - è°ƒç”¨ `GET /api/support/departments/options?organization_id=xxx` åŠ è½½å­¦é™¢åˆ—è¡¨
3. **é€‰æ‹©å­¦é™¢**ï¼š
   - æ¸…ç©ºè¯¾é¢˜ç»„çš„é€‰æ‹©å€¼
   - æ¸…ç©ºè¯¾é¢˜ç»„çš„é€‰é¡¹åˆ—è¡¨
   - è°ƒç”¨ `GET /api/support/research-groups/options?department_id=xxx` åŠ è½½è¯¾é¢˜ç»„åˆ—è¡¨
4. **ç¼–è¾‘å›æ˜¾**ï¼š
   - è®¾ç½®è¡¨å•å€¼ä¸ºç”¨æˆ·çš„ `organization_id`ã€`department_id`ã€`research_group_id`
   - ä¾æ¬¡è°ƒç”¨æ¥å£åŠ è½½å­¦é™¢å’Œè¯¾é¢˜ç»„é€‰é¡¹åˆ—è¡¨

---

## 5ï¸âƒ£ æƒé™é…ç½®

### æ–°å¢æƒé™ç‚¹

éœ€è¦åœ¨æƒé™ç®¡ç†ä¸­æ–°å¢ä»¥ä¸‹å­¦é™¢ç®¡ç†ç›¸å…³æƒé™ï¼š

```javascript
// ä¸€çº§æƒé™
{
  name: 'å­¦é™¢ç®¡ç†',
  code: 'department',
  parent_id: 0
}

// äºŒçº§æƒé™
{
  name: 'å­¦é™¢åˆ—è¡¨',
  code: 'department:list',
  parent_id: department.id
},
{
  name: 'å­¦é™¢è¯¦æƒ…',
  code: 'department:detail',
  parent_id: department.id
},
{
  name: 'åˆ›å»ºå­¦é™¢',
  code: 'department:create',
  parent_id: department.id
},
{
  name: 'æ›´æ–°å­¦é™¢',
  code: 'department:update',
  parent_id: department.id
},
{
  name: 'åˆ é™¤å­¦é™¢',
  code: 'department:delete',
  parent_id: department.id
}
```

---

## 6ï¸âƒ£ èœå•é…ç½®

### å»ºè®®èœå•ç»“æ„

```
ç”¨æˆ·ç®¡ç†
â”œâ”€ ä¼šå‘˜ç®¡ç†
â”œâ”€ ç»„ç»‡æœºæ„ç®¡ç†
â”œâ”€ å­¦é™¢ç®¡ç†ï¼ˆæ–°å¢ï¼‰
â””â”€ è¯¾é¢˜ç»„ç®¡ç†
```

---

## 7ï¸âƒ£ API æ¥å£æ±‡æ€»

### æ–°å¢æ¥å£
- `GET /api/support/departments` - å­¦é™¢åˆ—è¡¨
- `GET /api/support/departments/options` - å­¦é™¢é€‰é¡¹åˆ—è¡¨
- `GET /api/support/departments/:id` - å­¦é™¢è¯¦æƒ…
- `POST /api/support/departments` - åˆ›å»ºå­¦é™¢
- `PUT /api/support/departments/:id` - æ›´æ–°å­¦é™¢
- `DELETE /api/support/departments/:id` - åˆ é™¤å­¦é™¢
- `GET /api/support/research-groups/:id` - è¯¾é¢˜ç»„è¯¦æƒ…ï¼ˆæ–°å¢ï¼‰

### ä¿®æ”¹æ¥å£
- `GET /api/support/users` - æ–°å¢ `department_id` ç­›é€‰å‚æ•°ï¼Œè¿”å›æ•°æ®æ–°å¢ `department` å­—æ®µ
- `GET /api/support/users/:id` - è¿”å›æ•°æ®æ–°å¢ `department` å­—æ®µ
- `POST /api/support/users` - æ–°å¢ `department_id` å¿…å¡«å‚æ•°
- `PUT /api/support/users/:id` - æ–°å¢ `department_id` å¯é€‰å‚æ•°
- `GET /api/support/research-groups` - å‚æ•°ä» `organization_id` æ”¹ä¸º `department_id`ï¼Œè¿”å›æ•°æ®æ–°å¢ `department` å­—æ®µ
- `POST /api/support/research-groups` - å‚æ•°ä» `organization_id` æ”¹ä¸º `department_id`
- `PUT /api/support/research-groups/:id` - å‚æ•°ä» `organization_id` æ”¹ä¸º `department_id`
- `GET /api/support/research-groups/options` - å‚æ•°ä» `organization_id` æ”¹ä¸º `department_id`

---

## 8ï¸âƒ£ æ³¨æ„äº‹é¡¹

1. **çº§è”é€»è¾‘**ï¼šå¿…é¡»ä¸¥æ ¼æŒ‰ç…§ ç»„ç»‡æœºæ„ â†’ å­¦é™¢ â†’ è¯¾é¢˜ç»„ çš„é¡ºåºé€‰æ‹©
2. **å›æ˜¾å¤„ç†**ï¼šç¼–è¾‘æ—¶éœ€è¦æ ¹æ®å½“å‰å€¼ä¾æ¬¡åŠ è½½å„çº§é€‰é¡¹åˆ—è¡¨
3. **æ¸…ç©ºé€»è¾‘**ï¼šä¸Šçº§æ”¹å˜æ—¶ï¼Œå¿…é¡»æ¸…ç©ºæ‰€æœ‰ä¸‹çº§çš„é€‰æ‹©å’Œé€‰é¡¹åˆ—è¡¨
4. **ç¦ç”¨çŠ¶æ€**ï¼šæœªé€‰æ‹©ä¸Šçº§æ—¶ï¼Œä¸‹çº§é€‰æ‹©å™¨åº”è¯¥ç¦ç”¨
5. **åˆ é™¤é™åˆ¶**ï¼šæœ‰å…³è”æ•°æ®çš„å­¦é™¢å’Œè¯¾é¢˜ç»„ä¸å…è®¸åˆ é™¤
6. **æƒé™æ§åˆ¶**ï¼šå­¦é™¢ç®¡ç†ç›¸å…³åŠŸèƒ½éœ€è¦é…ç½®ç›¸åº”æƒé™

---

## 9ï¸âƒ£ æµ‹è¯•è¦ç‚¹

### åŠŸèƒ½æµ‹è¯•
- âœ… å­¦é™¢çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½
- âœ… ä¸‰çº§çº§è”é€‰æ‹©çš„è”åŠ¨æ•ˆæœ
- âœ… ç¼–è¾‘æ—¶çš„æ•°æ®å›æ˜¾
- âœ… åˆ é™¤æ—¶çš„å…³è”æ£€æŸ¥
- âœ… åŒä¸€ç»„ç»‡æœºæ„ä¸‹å­¦é™¢åç§°é‡å¤æ ¡éªŒ
- âœ… åŒä¸€å­¦é™¢ä¸‹è¯¾é¢˜ç»„åç§°é‡å¤æ ¡éªŒ

### è¾¹ç•Œæµ‹è¯•
- âœ… æœªé€‰æ‹©ä¸Šçº§æ—¶ï¼Œä¸‹çº§é€‰æ‹©å™¨æ˜¯å¦æ­£ç¡®ç¦ç”¨
- âœ… ä¸Šçº§æ”¹å˜æ—¶ï¼Œä¸‹çº§æ˜¯å¦æ­£ç¡®æ¸…ç©º
- âœ… æ•°æ®ä¸ºç©ºæ—¶çš„å‹å¥½æç¤º
- âœ… æƒé™ä¸è¶³æ—¶çš„æ­£ç¡®æ‹¦æˆª

---

## ğŸ”Ÿ å¸¸è§é—®é¢˜

### Q1: ç¼–è¾‘ç”¨æˆ·æ—¶ï¼Œå­¦é™¢å’Œè¯¾é¢˜ç»„é€‰é¡¹ä¸ºç©ºï¼Ÿ
**A**: éœ€è¦åœ¨æ•°æ®å›æ˜¾åï¼Œä¾æ¬¡è°ƒç”¨æ¥å£åŠ è½½å­¦é™¢å’Œè¯¾é¢˜ç»„é€‰é¡¹åˆ—è¡¨ã€‚å…ˆæ ¹æ® `organization_id` åŠ è½½å­¦é™¢åˆ—è¡¨ï¼Œå†æ ¹æ® `department_id` åŠ è½½è¯¾é¢˜ç»„åˆ—è¡¨ã€‚

### Q2: åˆ é™¤å­¦é™¢æ—¶æç¤º"å­˜åœ¨å…³è”æ•°æ®"ï¼Ÿ
**A**: éœ€è¦å…ˆåˆ é™¤è¯¥å­¦é™¢ä¸‹çš„æ‰€æœ‰è¯¾é¢˜ç»„å’Œç”¨æˆ·ï¼Œæˆ–å°†å®ƒä»¬è½¬ç§»åˆ°å…¶ä»–å­¦é™¢ã€‚

### Q3: è¯¾é¢˜ç»„åˆ—è¡¨æ¥å£æŠ¥é”™ï¼Ÿ
**A**: æ£€æŸ¥æ˜¯å¦ä¼ äº† `department_id` å‚æ•°ï¼ŒåŸæ¥çš„ `organization_id` å‚æ•°å·²åºŸå¼ƒã€‚

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»åç«¯å¼€å‘å›¢é˜Ÿã€‚
