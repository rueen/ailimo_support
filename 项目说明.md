# 艾力默管理端 - 项目说明

## 项目概述

艾力默管理端是一个基于 **Vue 3 + Vite + Ant Design Vue** 的现代化后台管理系统，用于管理用户、设备租赁、笼位租赁、实验代操作等业务。

## 技术栈

- **框架**: Vue 3 (Composition API)
- **构建工具**: Vite 6
- **UI 组件库**: Ant Design Vue 4
- **路由**: Vue Router 4
- **状态管理**: Pinia 2
- **HTTP 客户端**: Axios
- **样式**: Less
- **日期处理**: Day.js

## 项目结构

```
.
├── docs/                   # 接口文档
├── src/
│   ├── api/               # API 接口封装
│   │   ├── auth.js       # 认证相关接口
│   │   ├── user.js       # 用户管理接口
│   │   ├── organization.js # 组织机构接口
│   │   └── equipment.js  # 设备租赁接口
│   ├── assets/           # 静态资源
│   ├── components/       # 公共组件
│   ├── layouts/          # 布局组件
│   │   └── BasicLayout.vue # 主框架布局
│   ├── router/           # 路由配置
│   │   └── index.js      # 路由定义
│   ├── store/            # Pinia 状态管理
│   │   ├── index.js      # Store 入口
│   │   └── modules/      # 状态模块
│   │       ├── user.js   # 用户状态
│   │       └── app.js    # 应用状态
│   ├── styles/           # 全局样式
│   │   └── index.less    # 全局样式文件
│   ├── utils/            # 工具函数
│   │   ├── request.js    # Axios 封装
│   │   ├── storage.js    # 本地存储
│   │   └── auth.js       # 权限工具
│   ├── views/            # 页面组件
│   │   ├── login/        # 登录页
│   │   ├── dashboard/    # 首页
│   │   ├── user/         # 用户管理
│   │   │   ├── list.vue           # 用户列表
│   │   │   ├── organization.vue   # 组织机构
│   │   │   └── research-group.vue # 课题组
│   │   ├── equipment/    # 设备租赁
│   │   │   ├── reservation-list.vue # 租赁订单
│   │   │   └── equipment-list.vue   # 设备管理
│   │   └── 404.vue       # 404 页面
│   ├── App.vue           # 根组件
│   └── main.js           # 入口文件
├── index.html            # HTML 模板
├── vite.config.js        # Vite 配置
├── package.json          # 项目依赖
└── README.md             # 项目说明

```

## 已实现功能

### ✅ 基础功能
- [x] 用户认证（登录/退出）
- [x] JWT Token 管理
- [x] 路由守卫
- [x] Axios 请求拦截
- [x] 响应式布局
- [x] 侧边栏菜单
- [x] 面包屑导航

### ✅ 用户管理
- [x] 用户列表（分页、搜索、筛选）
- [x] 用户新增/编辑/删除
- [x] 用户审核（通过/拒绝）
- [x] 用户启用/禁用
- [x] 组织机构管理
- [x] 课题组管理

### ✅ 设备租赁管理
- [x] 租赁订单列表
- [x] 订单新增/编辑
- [x] 订单审核（通过/拒绝）
- [x] 订单完成/取消
- [x] 设备管理（增删改查）
- [x] 设备可用时间段查询

## 快速开始

### 1. 安装依赖

```bash
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

项目将在 http://localhost:3000 启动

### 3. 构建生产版本

```bash
npm run build
```

构建产物将输出到 `dist` 目录

### 4. 预览生产构建

```bash
npm run preview
```

## 默认登录信息

- 用户名：`admin`
- 密码：`123456`

## API 配置

### 开发环境

修改 `vite.config.js` 中的 proxy 配置：

```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8000',  // 后端 API 地址
      changeOrigin: true
    }
  }
}
```

### 生产环境

修改 `.env.production` 文件（需要创建）：

```
VITE_API_BASE_URL=https://api.ailimo.com/api
```

## 核心特性

### 1. 权限控制

采用 RBAC（基于角色的访问控制）模型：
- 每个管理员关联一个角色
- 每个角色拥有多个权限
- 路由守卫验证用户登录状态
- 接口请求自动携带 JWT Token

### 2. 请求拦截

- 自动添加 Authorization 头
- 统一错误处理
- 401 自动跳转登录页
- 请求/响应日志

### 3. 状态管理

使用 Pinia 管理全局状态：
- 用户信息（userStore）
- 应用状态（appStore）

### 4. 代码规范

- 使用 JSDoc 注释
- 组件化开发
- API 统一管理
- 工具函数封装

## 待完善功能

以下功能框架已搭建，需要根据实际业务完善：

### 1. 图片上传
需要配置 OSS（阿里云对象存储）：
- 修改 `src/api/upload.js`（需创建）
- 配置 OSS 参数
- 完善上传组件

### 2. 其他业务模块
可参考已实现的用户管理和设备租赁模块，实现：
- 笼位租赁管理
- 实验代操作管理
- 动物订购管理
- 试剂耗材管理
- 内容管理（案例、公司信息）

### 3. 权限控制完善
- 菜单权限过滤
- 按钮权限控制
- 数据权限控制

### 4. 功能增强
- 导出 Excel
- 数据统计图表
- 操作日志
- 系统设置

## 开发指南

### 添加新页面

1. 在 `src/views/` 下创建页面组件
2. 在 `src/router/index.js` 中添加路由
3. 在 `src/layouts/BasicLayout.vue` 中添加菜单项

### 添加新接口

1. 在 `src/api/` 下创建或修改接口文件
2. 使用 `request` 方法发起请求
3. 添加 JSDoc 注释

### 示例：

```javascript
/**
 * 获取用户列表
 * @param {Object} params - 查询参数
 */
export function getUserList(params) {
  return request({
    url: '/support/users',
    method: 'GET',
    params
  })
}
```

## 常见问题

### 1. 端口被占用

修改 `vite.config.js` 中的 `server.port`

### 2. API 请求失败

检查后端服务是否启动，以及 proxy 配置是否正确

### 3. 登录后白屏

打开浏览器控制台查看错误信息，通常是路由配置问题

## 浏览器支持

- Chrome (推荐)
- Firefox
- Safari
- Edge

不支持 IE 浏览器

## 联系方式

如有问题，请联系开发团队或查看接口文档。

---

**最后更新**: 2026-01-09
**版本**: v1.0.0
